<button class="btn btn-default btn-xs options"
        type="button"
        [matMenuTriggerFor]="options">
  <span class="glyphicon glyphicon-option-vertical"></span>
</button>

<mat-menu #options="matMenu">
  <!-- <button mat-menu-item [disabled]="editDisabled"> -->
  <button *ngIf="!editDisabled"
          mat-menu-item 
          (click)="showTooltip()">
    <span class="glyphicon glyphicon-pencil"></span>
  </button>
  <button mat-menu-item [matMenuTriggerFor]="style">Style</button>
  <!-- TODO divider -->
  <button mat-menu-item
          (click)="moveUp()">
    Move up
  </button>
  <button mat-menu-item
          (click)="moveDown()">
    Move down
  </button>
  <!-- TODO divider -->
  <button (click)="createTemplate()" mat-menu-item>
    Create Template
  </button>
  <!-- TODO divider -->
  <button mat-menu-item
          (click)="unlink()">
    Unlink
  </button>
  <button mat-menu-item
          (click)="delete()">
    <span class="glyphicon glyphicon-trash"></span>
  </button>
</mat-menu>

<mat-menu #style="matMenu">
  <div mat-menu-item 
    (click)="openBgPicker($event)">
    Background Color:
    <input #bgInput 
            class="color-input bg-color"
            (change)="bgColorChange($event)">
  </div>
  <div mat-menu-item (click)="bgColorEditing = true">Background color from palette</div>
  <div mat-menu-item (click)="openTextPicker($event)">
      Text Color:
      <input #textInput 
              class="color-input bg-color"
              (change)="textColorChange($event)">
    </div>
  <div mat-menu-item (click)="textColorEditing = true">Text color from palette</div>
  <ng-content select="[items]"></ng-content>
  <!-- TODO divider -->
  <button mat-menu-item
    (click)="clearStyles()">Clear Styles</button>
</mat-menu>

<ng-content select="[menus]"></ng-content>

<div [ngClass]="{'tooltip': true, 'tooltip-visible':tooltipVisible}">  
  <div class="panel panel-default">
    <div class="panel-heading">
      <strong>{{widget.getName()}}</strong>
      <button type="button" class="close close-btn">
        <small (click)="tooltipClose(false)">x</small>
      </button>
    </div>
    <div class="panel-body">
      <ng-content select="[tooltip]"></ng-content>
      <div class="row">
        <div class="col-sm-5 form-lbl"></div>
        <div class="col-sm-4"></div>
        <div class="col-sm-2 apply">
          <button 
              (click)="tooltipClose(true)"
              class="btn btn-primary">
            Apply
          </button>
        </div>
      </div>
    </div>
  </div>
</div>