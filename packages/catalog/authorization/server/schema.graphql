type Resource {
  id: ID!,
  ownerId: ID!,
  # includes the owner id because the owner is also a viewer
  viewerIds: [ID!]
}

input ResourcesInput {
  # viewableBy is required, you can't see the entire list of resources
  viewableBy: ID!
}

input CreateResourceInput {
  id: ID,
  ownerId: ID!,
  viewerIds: [ID!]
}

input PrincipalResourceInput {
  principalId: ID!,
  resourceId: ID!
}

input AddViewerToResourceInput {
  id: ID!,
  viewerId: ID!
}

type Query {
  resource(id: ID!): Resource
  owner(resourceId: ID!): ID
  resources(input: ResourcesInput!): [Resource!]
  isOwner(input: PrincipalResourceInput!): Boolean
  canView(input: PrincipalResourceInput!): Boolean
  canEdit(input: PrincipalResourceInput!): Boolean
}

type Mutation {
  createResource(input: CreateResourceInput!): Resource
  addViewerToResource(input: AddViewerToResourceInput!): Boolean
  deleteResource(id: ID!): Boolean
}
