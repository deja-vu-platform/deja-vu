type Group {
  id: ID!
  memberIds: [ID!]
  subgroups: [Group!]
}

input MembersInput {
  inGroupId: ID
  directOnly: Boolean
}

input GroupsInput {
  withMemberId: ID
  withGroupId: ID
  directOnly: Boolean
  inGroupId: ID
}

input CreateGroupInput {
  id: ID
  initialMemberIds: [ID!]
  initialSubgroupIds: [ID!]
}

input CreateMemberInput {
  id: ID
  inGroupId: ID
}

type Query {
  group(id: ID!): Group
  members(input: MembersInput!): [ID!]
  groups(input: GroupsInput!): [Group!]
}

type Mutation {
  createGroup(input: CreateGroupInput!): Group

  addMember(groupId: ID!, id: ID!): Group
  removeMember(groupId: ID!, id: ID!): Group

  addSubgroup(groupId: ID!, id: ID!): Group
  removeSubgroup(groupId: ID!, id: ID!): Group
}
