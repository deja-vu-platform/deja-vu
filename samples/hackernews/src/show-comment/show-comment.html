<dv.action name="show-comment">
  <div class="comment-container">
    <dv.if condition=!$comment>Comment not found</dv.if>

    <dv.if condition=$comment>
      <div class="inline-block">
        <hackernews.upvote
          disabled=!$loggedInUser ||
            $comment.authorId === $loggedInUser.username
          id=$comment.id loggedInUser=$loggedInUser isPost=false />
      </div>

      <div class="inline-block">
        <span class="subtext">
          <comment.show-comment comment=$comment
            showId=false showTargetId=false showContent=false />
        </span>
        <dv.if condition=$showAncestorSummary>
          | <dv.link href="/item" params={ id: $comment.targetId }>parent</dv.link>
          <!-- TODO: get original post title and link to it as well -->
        </dv.if>
        <!-- TODO: specify how long ago -->
        <comment.show-comment comment=$comment
          showId=false showAuthorId=false showTargetId=false />
      </div>

      <div class="reply-container">
        <!-- TODO: create reply page and enable when nested comments are supported  -->
        <div class="subtext"><dv.link href="/">Reply</dv.link></div>
        <!-- TODO: dv can't seem to handle the recursion here -->
        <!-- <div>
          <comment-show-comments
            [ofTargetId]="commend.id"
            [showComment]="{
              type: showComment, tag: 'hackernews-show-comment',
              inputMap: { comment: 'comment' },
              inputs: { loggedInUser: loggedInUser }
            }">
          </comment-show-comments>
        </div> -->
      </div>
    </dv.if>
  </div>
</dv.action>
