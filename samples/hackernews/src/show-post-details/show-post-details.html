<dv.action name="show-post-details">
  <hackernews.navbar />

  <div class="main">
    <div class="container">
      <hackernews.show-post id=$id loggedInUser=hackernews.navbar.loggedInUser />

      <dv.if condition=hackernews.show-post.loadedPost>
        <div class="write-comment-container">
          <hr class="post-separator" />

          <comment.create-comment
            authorId=hackernews.navbar.loggedInUser?.username
            buttonLabel="Add comment"
            showOptionToSubmit=!!hackernews.navbar.loggedInUser
            targetId=$id />

          <dv.if condition=!hackernews.navbar.loggedInUser>
            <dv.callback-link class="black-link" href="/login">
              Add comment
            </dv.callback-link>
          </dv.if>
        </div>

        <div class="post-show-comments">
          <comment.show-comments
            ofTargetId=$id
            showComment=<hackernews.show-comment
            hnComment=$comment loggedInUser=hackernews.navbar.loggedInUser /> />
        </div>
      </dv.if>
    </div>
  </div>
</dv.action>
