<dv.action name="navbar" loggedInUser$=authentication.logged-in.user>
  <dv.tx>
    <authentication.logged-in />
    <dv.redirect href="/login" onEvalFailure=true />
  </dv.tx>

  <nav class="navbar fixed-top">
    <div class="container">
      <dv.link class="navbar-brand" href="/">Listify</dv.link>

      <span class="space-filler"></span>
      <dv.if condition=authentication.logged-in.user>
        <span class="username">
          <authentication.show-user user=authentication.logged-in.user />
        </span>
        <span>
          <dv.tx>
            <authentication.sign-out />
            <dv.link href="/login" hidden=true />
          </dv.tx>
        </span>
      </dv.if>
      <dv.if condition=!authentication.logged-in.user>
        <dv.link class="black-link" href="/login">Login</dv.link>
      </dv.if>
      <dv.if condition=authentication.logged-in.user>
        <dv.link
          href="/profile"
          params={ userId: authentication.logged-in.user?.id }>
          <img src="assets/profile-icon.svg" class="profile-image" />
        </dv.link>
      </dv.if>
    </div>
  </nav>
</dv.action>
