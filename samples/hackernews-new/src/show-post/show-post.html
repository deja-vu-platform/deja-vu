<dv.action name="show-post" post$=property.show-object.loadedObject>
  <div>
    <property.show-object id=$id hidden=true />

    <dv.if condition=!property.show-object.loadedObject>
      Post not found
    </dv.if>

    <dv.if condition=property.show-object.loadedObject class="post-container">
      <div class="inline-block">
        <hackernews.upvote
          disabled=!$loggedInUser ||
            property.show-object.loadedObject.author === $loggedInUser.username
          id=$id isPost=true loggedInUser=$loggedInUser />
      </div>
      <div class="inline-block">
        <div>
          <span class="post-title">
            <a href=property.show-object.loadedObject.url>
              <property.show-object
                object=property.show-object.loadedObject
                showOnly=['title'] />
            </a>
          </span>
          <!-- TODO: below should link to list of all posts with that base url -->
          <span class="subtext">(<property.show-url class="inline-block"
            showBaseUrlOnly=true
            url=property.show-object.loadedObject.url />)</span>
        </div>
        <div class="subtext">
          <scoringposts.show-target
            class="inline-block"
            id=$id
            showId=false
            showScores=false
            totalLabel="" />
          points by
          <property.show-object
            object=property.show-object.loadedObject
            showOnly=['author'] /> |
          <dv.link href="/item" params={ id: $id }>comments</dv.link>
          <!-- TODO: show number of comments -->
          <!-- TODO: save timestamp and show how long ago this was posted -->
        </div>
      </div>
    </div>
  </div>
</dv.action>
