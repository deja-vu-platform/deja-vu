<dv.action name="claim-supply">
  <authentication.logged-in />
  <authorization.show-resource id=$id hidden=true />


  <div class="row">
    <div class="col-md-12">
      <potluck.show-supply supplyObj=$supplyObj useIdForObject=true />
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <dv.tx>
        <transfer.create-transfer id=$partyId
          fromId=$partyId
          toId=authentication.logged-in.user?.id
          showOptionToInputFromId=false
          showOptionToInputToId=false
          buttonLabel="Claim"
          newTransferSavedText="Supplies claimed"
          inputAmount=
            <dv.action amount$=transfer.create-item-count.itemCountAsAmount>
              <transfer.create-item-count
                id=authorization.show-resource.fetchedResource?.id
                showOptionToCreate=false
                showOptionToInputItemId=false
                emitOnRunOnly=false />
            </dv.action>

        <authentication.authenticate id=$loggedInUserId hidden=true />
      </dv.tx>
    </div>
  </div>
</dv.action>
