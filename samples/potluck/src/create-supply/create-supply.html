<dv.action name="create-supply">
  <dv.tx>
    <dv.status savedText="Supply added to party!" />
    <dv.gen-id />

    <div class="row">
      <div class="col-md-12">
        <supply.create-property as potluck-create-supply-item
          name="item" />
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <transfer.create-item-count id=dv.gen-id.id
          showOptionToInputItemId=false
          showOptionToCreate=false
          emitOnRunOnly=false />
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <supply.create-property as potluck-create-supply-unit
          name="unit" />
      </div>
    </div>

    <supply.create-object id=dv.gen-id.id
      initialValue={
        item: potluck-create-supply-item.value,
        unit: potluck-create-supply-unit.value
      }
      hidden=true />

    <transfer.add-to-balance accountId=$id
      amount=transfer.create-item-count.itemCountAsAmount
      hidden=true />

    <authentication.authenticate id=$loggedInUserId hidden=true />

    <div class="row">
      <div class="col-md-12">
        <dv.button>Add Supply</dv.button>
        <dv.callback defaultHref="/parties" onExecSuccess=true
          hidden=true />
      </div>
    </div>
  </dv.tx>
</dv.action>
