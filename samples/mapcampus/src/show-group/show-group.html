<dv.component name="show-group">
  <groupAuthorization.show-owner resourceId=$group?.id hidden=true />

  <div class="group-im-in">
    <div class="group-im-in-container">

      <!-- group I own -->
      <dv.if condition=$createdByUser && $groupId>
        <groupInfo.show-object id=$groupId />
        <group.show-members inGroupId=$groupId
          showMember=<authentication.show-user id=$id /> />

        <!-- add a member to the group -->
        <h5>Add User</h5>
          <authentication.choose-user class="add-member-input"
            showChooseButton=false />
        <dv.tx>
          <dv.status savedText="Member added to group" />
          <group.add-to-group id=$groupId showInput=false
            member=authentication.choose-user.selectedUser hidden=true />
          <groupAuthorization.verify-can-edit resourceId=$groupId
            principalId=$loggedInUserId hidden=true />
          <authentication.authenticate id=$loggedInUserId hidden=true />
          <dv.button class="btn btn-blue add-member-btn vertical-align-top">
            Add Member to Group
          </dv.button>
        </dv.tx>
      </dv.if>

      <!-- group I am member of but don't own -->
      <dv.if condition=!$createdByUser && $group>
        <groupInfo.show-object waitOn=['id'] id=$group.id />
        <dv.tx> <!-- leave the group -->
          <authentication.authenticate
            as group-user-is-member-of-authenticate
            id=$loggedInUserId hidden=true />
          <group.join-leave class="btn btn-default remove-from-group-btn"
            group=$group memberId=$loggedInUserId />
        </dv.tx>
      </dv.if>
    </div>
  </div>
</dv.component>
