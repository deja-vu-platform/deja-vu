<dv.action name="navbar" loggedInUserId$=authentication.logged-in.user.id>
  <dv.tx as mapmit-auth-check>
    <authentication.logged-in />
    <dv.redirect href="/login" onEvalFailure=true />
  </dv.tx>

  <nav class="navbar">
    <div id="navbar-left">
      <dv.link class="navbar-item right-bar" href="/home">
        Home
      </dv.link>

      <div id="show-my-events" class="navbar-item right-bar">
        <dv.link href="/my-events" class="myevents">My Events</dv.link>
      </div>
      <div id="show-my-groups" class="navbar-item">
        <dv.link href="/my-groups" class="mygroups">My Groups</dv.link>
      </div>
    </div>

    <dv.if condition=authentication.logged-in.user id="navbar-right">
      <div id="welcome-user" class="navbar-item">
        <span class="inline">Logged in as: <authentication.show-user
            user=authentication.logged-in.user showId=false />
        </span>
      </div>
      <div id="logout" class="navbar-item">
        <dv.tx as mapmit-sign-out>
          <authentication.sign-out />
          <dv.link href="/login" hidden=true />
        </dv.tx>
      </div>
    </dv.if>

    <div id="navbar-center">
      <div class="navbar-item">
        <dv.link href="/home" class="homepage">
          <img class="navbar-logo-img"
            src='https://s3.amazonaws.com/mapmit/logo_white.png' />
        </dv.link>
      </div>
    </div>
  </nav>
</dv.action>
