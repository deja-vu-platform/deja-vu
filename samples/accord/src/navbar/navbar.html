<dv.action name="navbar" loggedInUserId$=authentication.logged-in.user.id>
  <dv.tx>
    <authentication.logged-in />
    <dv.if condition=$accessRequired>
      <dv.redirect href="/sign-in" onEvalFailure=true />
    </dv.if>
  </dv.tx>

  <nav class="navbar">
    <div>
      <h3 class="navbar-header inline-block">
        <dv.link href="/">
          Accord
        </dv.link>
      </h3>
      <dv.if class="inline-block" condition=authentication.logged-in.user>
        &nbsp;
        &nbsp;
        <dv.link href="/">
          Dashboard
        </dv.link>
        &nbsp;
        <dv.link href="/about">
          About
        </dv.link>
        &nbsp;
      </dv.if>
    </div>

    <dv.if condition=authentication.logged-in.user>
      <mat-expansion-panel class="mat-elevation-z0">
        <mat-expansion-panel-header>
          <div class="navbar-right-elem">
            Logged In:
            <userProfile.show-object id=authentication.logged-in.user.id showOnly=["firstName"] />
          </div>
        </mat-expansion-panel-header>
        <dv.link href="/user-profile">Account Setting</dv.link>
        <br />
        <dv.tx>
          <authentication.sign-out buttonLabel="Logout"/>
          <dv.link href="/sign-in" hidden=true />
        </dv.tx>
      </mat-expansion-panel>
    </dv.if>

      <dv.if condition=!authentication.logged-in.user>
        <div class="form-inline navbar-right">
          <dv.link href="/sign-in">
            Login
          </dv.link>

          <dv.link href="/sign-up">
            Register
          </dv.link>
        </div>
      </dv.if>
  </nav>
</dv.action>
