<dv.component name="navbar" loggedInUser$=authentication.logged-in.user>
  <dv.tx>
    <authentication.logged-in />
    <dv.if condition=$accessRequired>
      <dv.redirect href="/sign-in" onEvalFailure=true />
    </dv.if>
  </dv.tx>

  <nav class="navbar">
    <div>
      <dv.link href="/"><img src="assets/logo.png" class="logo" /></dv.link>
      <dv.if class="inline-block" condition=authentication.logged-in.user>
        <dv.link href="/">Dashboard</dv.link>
      </dv.if>
      <dv.link href="/about">About</dv.link>
    </div>

    <dv.if condition=authentication.logged-in.user>
      <div class="navbar-right-elem">
        <userProfile.show-object
          id=authentication.logged-in.user.id showOnly=["firstName"] />
        <dv.link href="/user-profile">Account</dv.link>
        <dv.tx>
          <authentication.sign-out buttonLabel="Logout"/>
          <dv.link href="/sign-in" hidden=true />
        </dv.tx>
      </div>
    </dv.if>

    <dv.if condition=!authentication.logged-in.user>
      <div class="form-inline navbar-right">
        <dv.link href="/sign-in">Login</dv.link>
        <dv.link href="/sign-up">Register</dv.link>
      </div>
    </dv.if>
  </nav>
</dv.component>
