<dv.component name="create-event">
  <div class="index">
    <rendezvous.navbar showTitle=true showProfileButton=true />
    <relevantInterests.show-labels hidden=true />

    <div class="new-event">
      <div class="card">
        <div class="card-header" id="create-event-heading">
          Create Event
        </div>
        <div class="card-body">
          <div id="host-display">
            <button type="button" class="display-buttons btn btn-info">
              Hosted By
              <div class="inline" id="host-name">
                <authentication.show-user
                  id=rendezvous.navbar.loggedInUser?.id
                  waitOn=['id']
                  showId=false />
              </div>
            </button>
          </div>

          <geolocation.display-map
            id="mainMapId"
            showLoadedMarkers=false
            showDirectionsControl=false />

          <dv.tx>
            <dv.gen-id />
            <dv.status savedText="Event created" />

            <!-- Event Title + Additional Info -->
            <p class="event-title-info">Event Information</p>
            <eventDetails.create-object id=dv.gen-id.id
              showOptionToSubmit=false />

            <table id="event-info" class="table">
              <tr>
                <!-- Location -->
                <td rowspan="2">
                  <div class="form-group">
                    <p>Location</p>
                    <div id="map_new-event">
                      <geolocation.create-marker
                        id=dv.gen-id.id
                        mapId="mainMapId"
                        title=geolocation.display-map.newMarker?.title
                        latitude=geolocation.display-map.newMarker?.latitude
                        longitude=geolocation.display-map.newMarker?.longitude
                        showOptionToSubmit=false />
                    </div>
                    <div class="guidelines">
                      (must be within 50 miles of current location)
                    </div>
                  </div>
                </td>

                <!-- Event -->
                <td>
                  <p>Date & Time</p>
                  <event.create-event id=dv.gen-id.id showOptionToSubmit=false />
                </td>
              </tr>
            </table>

            <div class="categories">
              <p>Tags</p>
              <div id="tags">
                <relevantInterests.attach-labels itemId=dv.gen-id.id
                  labels=relevantInterests.show-labels.labels
                  inputLabel=""
                  showOptionToSubmit=false />
              </div>
            </div>

            <!-- Create Group w/ Logged In User as a Member -->
            <group.create-group
              id=dv.gen-id.id
              showOptionToAddMembers=false
              showOptionToSubmit=false
              memberIds=[rendezvous.navbar.loggedInUser?.id]
              hidden=true />

            <authorization.create-resource id=dv.gen-id.id
              ownerId=rendezvous.navbar.loggedInUser?.id hidden=true />
            <authentication.authenticate
              id=rendezvous.navbar.loggedInUser?.id hidden=true />

            <!-- Cancel and Create Buttons -->
            <div class="cc-buttons">
              <dv.button id="create">Create!</dv.button>
              <dv.link href="/event-details" params={ id: dv.gen-id.id }
                hidden=true />
            </div>
            <div class="cc-buttons">
              <dv.link href="/main" class="btn button btn-info" id="back">
                Cancel
              </dv.link>
            </div>
          </dv.tx>
        </div>
      </div>
    </div>
  </div>
</dv.component>
