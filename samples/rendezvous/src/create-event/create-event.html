<dv.action name="create-event">
  <div class="index">
    <rendezvous.nav-bar redirectParams={ callback: '/create-event' } />

    <div class="new_event">
      <div class="panel panel-default">
        <div class="panel-heading" style="background-color: #ffa599;">
          Create Event
        </div>
        <div class="panel-body" style="padding: 15px;">

          <div style="float: left; margin-top: 4px;">
            <button type="button" class="displayButtons btn btn-info">
              Hosted By
              <span class="badge" style="color: black; margin-left: 5px;">
                <rendezvous.show-member-name
                  user=rendezvous.nav-bar.loggedInUser />
              </span>
            </button>
          </div>

          <geolocation.display-map
            id="mainMapId"
            showLoadedMarkers=false
            showDirectionsControl=false />
          <dv.tx>
            <dv.id />
            <dv.status savedText="Event created" />

            <table id="event_info" class="table">
              <tr>
                <!-- Location -->
                <td rowspan="2" style="width: 30%">
                  <div class="form-group">
                    <p>Location</p>
                    <div id="map_new_event">
                      <geolocation.create-marker
                        id=dv.id.id
                        mapId="mainMapId"
                        title=geolocation.display-map?.title
                        latitude=geolocation.display-map?.latitude
                        longitude=geolocation.display-map?.longitude
                        showOptionToSubmit=false />
                    </div>
                    <div class="guidelines" style="margin-top: 3px; width: 100%;">
                      (must be within 50 miles of current location)
                    </div>
                  </div>
                </td>

                <!-- Event -->
                <td style="width: 30%">
                  <p>Date & Time</p>
                  <event.create-event id=dv.id.id showOptionToSubmit=false />
                </td>
              </tr>

              <!--
                - Uncomment below when restriction of number of cliches resolved.
                - TODO: Choose from list of tags
              -->
              <!-- <tr>
                <td>
                  <p>Tags</p>
                  <br>
                  <div class="btn-group" style="padding-top: 0px;">
                    <label.attach-labels itemId=dv.id.id />
                  </div>
                </td>
              </tr> -->
            </table>

            <!-- Event Title + Additional Info -->
            <div class="event_details">
              <p>Event Details</p>
              <eventdetails.create-object id=dv.id.id showOptionToSubmit=false />
            </div>

            <!-- Create Group w/ Logged In User as a Member -->
            <group.create-group
              id=dv.id.id
              showOptionToAddMembers=false
              showOptionToSubmit=false
              memberIds= [rendezvous.nav-bar.loggedInUser.id]
              hidden=true />

            <authorization.create-resource id=dv.id.id
              ownerId=rendezvous.nav-bar.loggedInUser.id hidden=true />
            <authentication.authenticate
              id=rendezvous.nav-bar.loggedInUser.id hidden=true />

            <!-- Cancel and Create Buttons -->
            <div style="float:right;">
              <dv.button id="create"
                style="margin-top: 10px; margin-left: 10px; width: 80px;">
                Create!
              </dv.button>
              <dv.link href="/event-details" params={ id: dv.id.id }
                hidden=true />
            </div>
            <div style="float:right;">
              <dv.link href="/main" type="button" class="btn button btn-info"
                id="back" style="margin-top: 10px; width: 80px;">
                Cancel
              </dv.link>
            </div>

          </dv.tx>
        </div>
      </div>
    </div>
  </div>
</dv.action>
