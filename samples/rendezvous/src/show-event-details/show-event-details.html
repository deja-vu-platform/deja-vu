<dv.action name="show-event-details">
  <div class="index">
    <rendezvous.navbar />
    <eventdetails.show-object id=$eventId hidden=true />
    <authorization.show-owner resourceId=$eventId hidden=true />

    <div class="new_event">
      <div class="panel panel-default">
        <div class="panel-heading eventName" style="background-color: #ffa599;">
          <!-- Event Title -->
          <eventdetails.show-object object=eventdetails.show-object.loadedObject
            showOnly=["title"] />
        </div>

        <div class="panel-body" style="padding: 15px;">
          <div style="overflow: auto; margin-bottom: 15px">
            <div id="hostBadge" style="float: left; margin-top: 4px; cursor: pointer;">
              <!-- Host -->
              Hosted By
              <span class="badge userBadge" style="color: black; margin-left: 5px;">
                <rendezvous.show-member-name id=authorization.show-owner.ownerId />
              </span>
              <dv.link href="/profile" params={ id: authorization.show-owner.ownerId }>
                Go to profile
              </dv.link>
            </div>

            <!-- Relevant Interests -->
            <!-- Uncomment below when cliche restriction bug is resolved -->
            <!-- <div style="float: left; margin-top: 4px;">
                    <button type="button" class="displayButtons btn btn-info">
                      Relevant Interests
                      <span class="badge" style="color: black; margin-left: 5px;">
                        <label.show-labels id="rlvnt-intrsts"
                          itemId=$eventId
                          noLabelsToShowText="No interests added for this event" />
                      </span>
                    </button>
                  </div> -->

            <div id="attendeesDiv" style="display: block; margin-top: 50px;">
              <!-- List of Attendees -->
              <p>Attendees</p>
              <div class="panel-body"
                style="background-color: #FFEFEE; border: 1px solid #CC9088">
                <group.show-members inGroupId=$eventId
                  showMember=<rendezvous.show-member-name id=$id />
                  >
                </group.show-members>
              </div>
            </div>
          </div>

          <div class="event-info-table">
            <p> Event Details</p>
            <!-- Location -->
            <p>Location:
              <span>
                <geolocation.show-marker id=$eventId showId=false showMapId=false />
              </span>
            </p>

            <!-- Date + Time -->
            <p>Date + Time:
              <span>
                <event.show-event id=$eventId />
              </span>
            </p>
          </div>

          <div class="event_details">
            <!-- Additional Info -->
            <p> Event Description</p>
            <div id="shw-pst"
              style="background-color: #FFEFEE; border: 1px solid #CC9088">
              <eventdetails.show-object
                object=eventdetails.show-object.loadedObject
                showOnly=["additionInfo"] />
            </div>
          </div>

          <dv.if condition=rendezvous.navbar.loggedInUser.id===authorization.show-owner.ownerId>
            <!-- TODO: Edit Event -->
            <div class="inline btn-group form-group"
              style="display: inline-block; float: right; margin-top: 10px;">
              <button class="btn button">Coming Soon: Edit Event</button>
            </div>

            <p style="display:inline-block;float:right;margin-top:37px;margin-right:15px;">
              YOU ARE THE HOST OF THIS EVENT
            </p>
          </dv.if>

          <!-- Join Group if already not in it -->
          <dv.if condition=rendezvous.navbar.loggedInUser.id !==authorization.show-owner.ownerId>
            <div class="inline btn-group form-group" id="jn-lv-grp">
              <dv.tx as rendezvous-join-leave>
                <authorization.add-remove-viewer resourceId=$eventId
                  viewerId=rendezvous.navbar.loggedInUser.id hidden=true />

                <group.join-leave groupId=$eventId
                  memberId=rendezvous.navbar.loggedInUser.id />
              </dv.tx>
            </div>
          </dv.if>

          <div>
            <p style="margin-top: 80px;display:flex;">Comments</p>
          </div>
          <table id="comment-table" class="event_info event_display table">
            <tbody>
              <tr id="add-comment-row">
                <th id="add-comment">
                  <dv.tx as rendezvous-event-comment>
                    <comment.create-comment
                      authorId=rendezvous.navbar.loggedInUser.id
                      targetId=$eventId inputLabel="Post a new comment"
                      buttonLabel="Post" />
                  </dv.tx>
                </th>
              </tr>
              <comment.show-comments ofTargetId=$eventId
                showComment=<rendezvous.show-event-comment
                  comment=$comment
                  loggedInUserId=rendezvous.navbar.loggedInUser.id /> />
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</dv.action>
